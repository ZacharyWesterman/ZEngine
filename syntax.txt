subroutine_decl : "sub" IDENTIFIER { } ;
		| "sub" IDENTIFIER { statement } ;
		| "sub" IDENTIFIER { statementlist } ;

while_pre_stmt	: "loop" "while" ( boolexpr ) statement
		| "loop" "while" ( boolexpr ) { statement }
		| "loop" "while" ( boolexpr ) { statementlist }
		| "loop" "while" ( boolexpr ) { }
		| "loop" "while" ( boolexpr ) ;

while_post_stmt	: "loop" statement "while" ( boolexpr )
		| "loop" { statement } "while" ( boolexpr )
		| "loop" { statementlist } "while" ( boolexpr )
		| "loop" { } "while" ( boolexpr )
		| "loop" ; "while" ( boolexpr )

run_statement	: "run" boolexpr ;

return_statement: "return" boolexpr ;

wait_statement	: "wait" boolexpr ;

until_statement	: "wait" "until" boolexpr ;


ext_declaration	: function_decl
		| typedecl
		| externaldecl
		| globaldecl
		| shareddecl

ext_decllist	: ext_declaration ext_declaration
		| ext_decllist ext_declaration

int_declaration	: variable_decl
		| typevar_decl
		| function_decl

int_decllist	: int_declaration int_declaration
		| int_decllist int_declaration

typedecl	: "type" IDENTIFIER { int_declaration }
		| "type" IDENTIFIER { int_decllist }

globaldecl	: "global" assignexpr ;
		| "global" variable ;

externaldecl	: "external" variable ;

shareddecl	: "shared" assignexpr ;
		| "shared" variable ;

formalvardecl	: if#"function" IDENTIFIER (# "var" IDENTIFIER
		| if#formalvardecl ,# "var" IDENTIFIER
		| if#formaltypedecl ,# "var" IDENTIFIER

formaltypedecl	: if#"function" IDENTIFIER (# IDENTIFIER IDENTIFIER
		| if#formalvardecl ,# IDENTIFIER IDENTIFIER
		| if#formaltypedecl ,# IDENTIFIER IDENTIFIER
		
formaldecllist	: (formalvardecl or formaltypedecl) , (formalvardecl or formaltypedecl)
		| formaldecllist , (formalvardecl or formaltypedecl)
		
function_decl	: "function" IDENTIFIER (  ) { (statementlist or statement) }
		| "function" IDENTIFIER ( formalvardecl ) { (statementlist or statement) }
		| "function" IDENTIFIER ( formaltypedecl ) { (statementlist or statement) }
		| "function" IDENTIFIER ( formaldecllist ) { (statementlist or statement) }
		| "function" IDENTIFIER ( ) { }

